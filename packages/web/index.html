<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stega PNG</title>
  </head>
  <body>
    <div id="frontmatter">
      <div id="hero">
        <div id="logo" alt="Stega PNG"></div>
        <h1>Stega PNG</h1>
        <h2>
          Hide secret messages<br />
          <em class="underline">in image files</em>.
        </h2>
      </div>
      <p>
        This demo uses
        <a
          title="Hiding data within other data"
          href="https://en.wikipedia.org/wiki/Steganography"
          >steganography</a
        >
        to embed secret data into an image.
      </p>
      <p>
        The secret message is encoded stochastically into the least-significant
        bits of the image's pixel data, making it invisible to the naked eye
        and difficult to detect.
      </p>
      <p>
        For more information and a powerful CLI tool, check out the
        <a href="https://github.com/jchook/stega/blob/main/README.md">project homepage</a>.
      </p>
      <p class="note">
        Note: All operations are performed locally on your web browser. None of
        your data are transmitted over the network. This demo is provided under
        under the MIT open source license.
      </p>
    </div>
    <div id="app">
      <form class="card" id="embedForm">
        <div class="with-icon">
          <h3>ğŸ§¬</h3>
          <h3>Embed a Secret Message</h3>
        </div>
        <div class="field">
          <label for="embedDataInput">Enter a secret message</label>
          <textarea id="embedDataInput" name="secret"></textarea>
        </div>
        <div class="field">
          <label for="embedImageInput">
            Select an image to carry the secret message
          </label>
          <div>
            <label class="button" for="embedImageInput">
              Embed in an Image
            </label>
          </div>
          <input
            type="file"
            name="coverFile"
            id="embedImageInput"
            accept="image/*"
          />
        </div>
        <div class="output" style="display: none;">
          <p>
            This image contains the secret message.
          </p>
          <p class="note">
            When you share this image, many social media apps compress or
            reformat the image files. This will destroy embedded data. You
            should share the image in a lossless way, such as as an email
            attachment.
          </p>
          <div id="outputActions">
            <button id="shareButton">Share</button>
            <button id="downloadButton">Download</button>
          </div>
          <img id="outputImage" />
          <p class="note">
            Note that many chat platforms (like Telegram or WhatsApp)
            automatically compress images. This will destroy the data hidden
            inside the image. You must "send as a file" to avoid compression.
          </p>
        </div>
      </form>
      <form class="card" id="extractForm">
        <div class="with-icon">
          <h3>ğŸ—ï¸</h3>
          <h3>Extract a Secret Message</h3>
        </div>
        <div class="field">
          <label for="extractImageFile">
            Select an image carrying a secret message
          </label>
          <div>
            <label class="button extract" for="extractImageFile">
              Extract from an Image
            </label>
          </div>
          <input
            accept="image/png,image/jpeg,image/gif,image/bmp"
            class="hidden"
            id="extractImageFile"
            name="imageFile"
            type="file"
          />
        </div>
        <div class="output" style="display: none;">
          <div class="field">
            <label for="extractedData">
              See the extracted secret message below:
            </label>
            <textarea readonly name="secret" id="extractedData"></textarea>
          </div>
        </div>
      </form>
      <!-- form id="detectForm" onsubmit="processImage()">
        <h3>ğŸ•µï¸ Detect Secret Messages (WIP)</h3>
        <div class="field">
          <label for="dataInput">
            Select an image that may contain an embedded secret message
          </label>
          <input
            type="file"
            id="imageInput"
            accept="image/png,image/jpeg,image/gif,image/bmp"
          />
        </div>
        <div class="field">
          <button class="extract" type="submit">Detect</button>
        </div>
        <div class="output">
          <img id="detectOutputImage" />
        </div>
      </form -->
      <div id="credits" class="card">
        <div class="with-icon">
          <h3>ğŸ“œ</h3>
          <h3>Credits</h3>
        </div>
        <p>
          This free and open source demo was created by Wes Roberts. You
          can find the source code on
          <a href="https://github.com/jchook/stega">GitHub</a>.
        </p>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
